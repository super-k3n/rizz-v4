# イシュータイトル
UIの多言語対応（英語切り替え機能）の実装

## 概要
現状のアプリケーションは日本語のみのUIとなっていますが、今後のユーザー拡大や利便性向上のため、設定画面から英語UIへ切り替えられる多言語対応機能を実装します。これにより、ユーザーは自身の好みに応じて日本語・英語のUIを選択できるようになります。

## 実施内容

### パート1: 国際化（i18n）基盤の導入
- [ ] i18nライブラリの選定・導入（例: i18nextを使用）
- [ ] 翻訳リソースファイル（ja, en）の作成
- [ ] 既存UIテキストの抽出と置換
- [ ] 型安全な翻訳管理の仕組み検討

### パート2: 設定画面の拡張
- [ ] 言語切り替えUIの追加（設定画面に「日本語/English」選択肢を追加）
- [ ] 選択言語の永続化（profilesテーブルにカラムを追加し、フラグ(0や1など)で判別）
- [ ] 言語切り替え時の即時反映（リロードで即時反映）

### パート3: フロントエンド実装
- [ ] 各画面・コンポーネントのテキストを翻訳キーに置換
- [ ] フォームバリデーション・エラーメッセージの多言語対応
- [ ] キャッシュ・パフォーマンス考慮

### パート4: テスト・検証
- [ ] 日本語・英語UIの表示確認
- [ ] 言語切り替え時の動作確認
- [ ] バリデーション・エラー表示の多言語確認
- [ ] ユーザー体験の維持

## 参照資料
- [i18n公式ドキュメント]
- [@002_er.md](ER図定義書)
- [@003_api.md](API設計書)
- [@250422-9.md](DB保存・表示機能実装ログ)
- [@250424-11.md](日次目標の日付別管理機能の実装ログ)

## 完了条件
- [ ] 設定画面から日本語・英語のUI切り替えが可能であること
- [ ] 主要画面・バリデーション・エラー表示が多言語対応していること
- [ ] 選択した言語が永続化され、再訪時も維持されること
- [ ] 既存UI/UXの使用感が維持されていること
- [ ] パフォーマンス・セキュリティに問題がないこと

## 実装方針

### i18n設計
- i18nライブラリを用いて、全テキストを翻訳キー管理
- 翻訳リソースは`locales/ja.json`, `locales/en.json`等で管理
- 型安全な翻訳関数の導入（TypeScript型定義）

### 設定画面
- 言語選択UI（ラジオボタン/セレクトボックス等）を追加
- 選択値はローカルストレージ or DBに保存し、アプリ起動時に反映

### バリデーション・エラー対応
- Yup等のバリデーションスキーマも多言語化
- エラーメッセージは翻訳リソースから取得

### パフォーマンス・キャッシュ
- 翻訳リソースの遅延ロード対応
- 言語切り替え時のキャッシュクリア・再取得戦略

### セキュリティ
- ユーザーごとの言語設定が他ユーザーに影響しないこと
- XSS等のセキュリティリスクに配慮

### UI/UX方針
- 既存UI/UXを維持しつつ、違和感のない言語切り替え体験を提供
- 言語切り替え時のローディングやエラー表示も考慮
