## プロジェクト概要

ストリートナンパの実績を記録・分析するためのモバイルアプリケーション。声かけ数、連絡先獲得数、即日デート数、即数（sex）などの基本的な指標を記録し、日次/週次/月次/年次での分析機能を提供する。

## 技術スタック

- **フロントエンド**: Expo SDK 52 + React Native + TypeScript
- **UI**: React Native Paper v6 + Expo Vector Icons
- **状態管理**: Context API + useReducer
- **ルーティング**: Expo Router
- **グラフ**: Victory Native
- **バックエンド**: Supabase (PostgreSQL, Auth, Storage)
- **フォーム管理**: Formik + Yup

## 開発フェーズとタイムライン

全体スケジュール：9週間 + 継続的改善

|フェーズ|期間|説明|
|---|---|---|
|フェーズ1|4週間|MVPの実装|
|フェーズ2|2週間|テストとバグ修正|
|フェーズ3|2週間|パフォーマンス最適化|
|フェーズ4|1週間|App Store/Google Play提出準備|
|フェーズ5|継続|フィードバックに基づく改善とプレミアム機能追加|

## 詳細タスクリスト

### フェーズ1: MVP実装（4週間）

#### 週1: プロジェクト設定とユーザー認証（1週間）

| タスクID | タスク名           | 説明                                     | 期間   | 優先度 |
| ----- | -------------- | -------------------------------------- | ---- | --- |
| 1.1.1 | プロジェクト初期化      | Expo/React Native/TypeScriptプロジェクトの初期化 | 1日   | 高   |
| 1.1.2 | Supabaseセットアップ | プロジェクト作成、データベーススキーマ設定                  | 1日   | 高   |
| 1.1.3 | RLSポリシー設定      | セキュリティルールの設定                           | 0.5日 | 高   |
| 1.1.4 | 認証画面UI実装       | ログイン/サインアップ画面の実装                       | 1日   | 高   |
| 1.1.5 | 認証ロジック実装       | Supabase Authの統合                       | 1日   | 高   |
| 1.1.6 | AuthContextの実装 | 認証状態管理の実装                              | 0.5日 | 高   |
| 1.1.7 | プロフィール設定画面     | 初回ログイン後のプロフィール設定画面                     | 1日   | 中   |

#### 週2: コアカウンター機能（1週間）

| タスクID | タスク名             | 説明                       | 期間   | 優先度 |
| ----- | ---------------- | ------------------------ | ---- | --- |
| 1.2.1 | ホーム画面レイアウト       | ホーム画面の基本レイアウト構築          | 1日   | 高   |
| 1.2.2 | カウンターボタンUI       | 4種類のカウンターボタン実装           | 1日   | 高   |
| 1.2.3 | RecordContextの実装 | 記録データの状態管理               | 0.5日 | 高   |
| 1.2.4 | Supabase連携（記録）   | 日次記録のCRUD操作実装            | 1日   | 高   |
| 1.2.5 | オフラインストレージ       | AsyncStorageによるローカルデータ保存 | 1日   | 高   |
| 1.2.6 | 同期キュー実装          | オフライン変更のキュー管理            | 0.5日 | 中   |
| 1.2.7 | ナビゲーション設定        | Expo Routerによるナビゲーション構築  | 1日   | 高   |

#### 週3: 目標設定と統計表示（1週間）

| タスクID | タスク名           | 説明               | 期間   | 優先度 |
| ----- | -------------- | ---------------- | ---- | --- |
| 1.3.1 | 目標設定画面UI       | 目標設定フォームの実装      | 1日   | 高   |
| 1.3.2 | 目標保存ロジック       | Supabaseとの連携     | 0.5日 | 高   |
| 1.3.3 | GoalContextの実装 | 目標データの状態管理       | 0.5日 | 高   |
| 1.3.4 | プログレスバー実装      | ホーム画面の目標進捗表示     | 1日   | 高   |
| 1.3.5 | 統計画面レイアウト      | 統計表示画面の基本レイアウト   | 1日   | 高   |
| 1.3.6 | 日次データグラフ       | 日次データのグラフ表示実装    | 1日   | 高   |
| 1.3.7 | 期間切替機能         | 日次/週次/月次/年次の切替実装 | 1日   | 中   |

#### 週4: 詳細情報と追加機能（1週間）

| タスクID | タスク名       | 説明               | 期間   | 優先度 |
| ----- | ---------- | ---------------- | ---- | --- |
| 1.4.1 | 詳細情報入力画面   | 場所/時間などの詳細情報入力UI | 1日   | 中   |
| 1.4.2 | 詳細情報保存ロジック | Supabaseとの連携     | 0.5日 | 中   |
| 1.4.3 | 設定画面実装     | ユーザー設定画面の実装      | 1日   | 中   |
| 1.4.4 | プロフィール更新機能 | プロフィール情報の更新機能    | 0.5日 | 中   |
| 1.4.5 | 月次/年次統計実装  | 長期統計データの実装       | 1日   | 中   |
| 1.4.6 | MVP機能結合テスト | 主要機能の結合テスト       | 1日   | 高   |
| 1.4.7 | フィードバック対応  | 初期フィードバックに基づく修正  | 1日   | 中   |

### フェーズ2: テストとバグ修正（2週間）

#### 週5: テストとバグ修正（前半）

| タスクID | タスク名          | 説明              | 期間   | 優先度 |
| ----- | ------------- | --------------- | ---- | --- |
| 2.1.1 | ユーザー認証テスト     | 認証フローの総合テスト     | 0.5日 | 高   |
| 2.1.2 | カウンター機能テスト    | 各カウンターの動作確認     | 0.5日 | 高   |
| 2.1.3 | オフライン動作テスト    | オフライン時の挙動確認     | 1日   | 高   |
| 2.1.4 | データ同期テスト      | オンライン復帰時の同期確認   | 1日   | 高   |
| 2.1.5 | UI検証（iOS）     | iOSデバイスでのUI確認   | 1日   | 高   |
| 2.1.6 | UI検証（Android） | Androidデバイスでの確認 | 1日   | 高   |
| 2.1.7 | バグ修正（優先度高）    | 重要度の高いバグ修正      | 1日   | 高   |

#### 週6: テストとバグ修正（後半）

| タスクID | タスク名          | 説明                | 期間   | 優先度 |
| ----- | ------------- | ----------------- | ---- | --- |
| 2.2.1 | 統計機能テスト       | 統計表示の正確性確認        | 1日   | 高   |
| 2.2.2 | 目標進捗テスト       | 目標設定と進捗表示の検証      | 0.5日 | 高   |
| 2.2.3 | エラーハンドリングテスト  | 各種エラー状態の検証        | 1日   | 高   |
| 2.2.4 | バグ修正（優先度中）    | 重要度中程度のバグ修正       | 1.5日 | 中   |
| 2.2.5 | 結合テスト         | 全機能の結合テスト         | 1日   | 高   |
| 2.2.6 | ユーザーフィードバック収集 | テストユーザーからのフィードバック | 1日   | 中   |
| 2.2.7 | ドキュメント更新      | テスト結果に基づくドキュメント更新 | 0.5日 | 低   |

### フェーズ3: パフォーマンス最適化（2週間）

#### 週7: パフォーマンス最適化（前半）

| タスクID | タスク名        | 説明                     | 期間   | 優先度 |
| ----- | ----------- | ---------------------- | ---- | --- |
| 3.1.1 | パフォーマンス測定   | 現状のパフォーマンス計測           | 1日   | 高   |
| 3.1.2 | レンダリング最適化   | 不要な再レンダリングの削減          | 1日   | 高   |
| 3.1.3 | メモ化の導入      | useMemo/useCallbackの適用 | 1日   | 中   |
| 3.1.4 | 画像最適化       | 画像リソースの最適化             | 0.5日 | 中   |
| 3.1.5 | APIリクエスト最適化 | Supabaseクエリの最適化        | 1日   | 高   |
| 3.1.6 | キャッシュ戦略改善   | キャッシュ機構の改善             | 1日   | 中   |
| 3.1.7 | 修正後性能計測     | 最適化の効果測定               | 0.5日 | 中   |

#### 週8: パフォーマンス最適化（後半）とUIの磨き込み

| タスクID | タスク名         | 説明              | 期間   | 優先度 |
| ----- | ------------ | --------------- | ---- | --- |
| 3.2.1 | UIアニメーション改善  | スムーズなトランジション実装  | 1日   | 中   |
| 3.2.2 | グラフ表示最適化     | グラフ描画のパフォーマンス向上 | 1日   | 中   |
| 3.2.3 | バンドルサイズ最適化   | アプリサイズの削減       | 1日   | 中   |
| 3.2.4 | 起動時間最適化      | アプリ起動速度の改善      | 1日   | 中   |
| 3.2.5 | デザイン調整       | UIデザインの微調整と統一   | 1日   | 高   |
| 3.2.6 | アクセシビリティ改善   | アクセシビリティ対応      | 0.5日 | 中   |
| 3.2.7 | 最終パフォーマンステスト | 総合的なパフォーマンス検証   | 0.5日 | 高   |

### フェーズ4: App Store/Google Play提出準備（1週間）

#### 週9: リリース準備

| タスクID  | タスク名            | 説明                        | 期間   | 優先度 |
| ------ | --------------- | ------------------------- | ---- | --- |
| 4.1.1  | アイコン・スプラッシュ確定   | アプリアイコンとスプラッシュ画面の完成       | 0.5日 | 高   |
| 4.1.2  | ストアスクリーンショット作成  | ストア掲載用スクリーンショット準備         | 0.5日 | 高   |
| 4.1.3  | プライバシーポリシー作成    | プライバシーポリシーの策定             | 0.5日 | 高   |
| 4.1.4  | 利用規約作成          | アプリ利用規約の策定                | 0.5日 | 高   |
| 4.1.5  | Expoアプリ設定最終化    | app.jsonの最終設定             | 0.5日 | 高   |
| 4.1.6  | EAS Build設定     | EAS.jsonの設定とビルドテスト        | 1日   | 高   |
| 4.1.7  | App Store提出準備   | App Store Connectの設定      | 0.5日 | 高   |
| 4.1.8  | Google Play提出準備 | Google Play Consoleの設定    | 0.5日 | 高   |
| 4.1.9  | 本番ビルド作成         | 本番リリース用ビルド                | 0.5日 | 高   |
| 4.1.10 | ストア提出実行         | App StoreとGoogle Playへの提出 | 0.5日 | 高   |

### フェーズ5: 継続的改善とプレミアム機能（継続）

#### 今後の開発計画

| タスクID  | タスク名         | 説明                 | 優先度 |
| ------ | ------------ | ------------------ | --- |
| 5.1.1  | プッシュ通知機能     | 目標リマインダーなどの通知機能    | 中   |
| 5.1.2  | ゲーミフィケーション要素 | アチーブメント、レベルシステムの導入 | 中   |
| 5.1.3  | プレミアム分析機能    | 時間帯別・場所別の成功率分析     | 高   |
| 5.1.4  | コミュニティ機能     | 匿名ランキング、統計比較機能     | 中   |
| 5.1.5  | クラウドバックアップ   | データのバックアップ機能       | 中   |
| 5.1.6  | CSVエクスポート    | データのエクスポート機能       | 低   |
| 5.1.7  | GPS位置情報記録    | 位置情報の自動記録機能        | 低   |
| 5.1.8  | 課金システム導入     | サブスクリプション課金システム    | 高   |
| 5.1.9  | Webアプリ開発     | クロスプラットフォーム展開      | 低   |
| 5.1.10 | AI機能検討       | 成功率予測、最適場所推奨など     | 低   |

## 開発マイルストーン

|マイルストーン|達成条件|予定日|
|---|---|---|
|開発環境構築完了|プロジェクト初期化、Supabaseセットアップ完了|週1終了時|
|MVP機能実装完了|基本カウンター、目標設定、統計表示の実装|週4終了時|
|バグ修正・テスト完了|主要バグ修正、結合テスト完了|週6終了時|
|最適化完了|パフォーマンス改善、UI/UXの磨き込み完了|週8終了時|
|ストア提出完了|App Store、Google Playへの提出完了|週9終了時|
|初回リリース|ストア審査通過、一般公開|週10予定|
|プレミアム機能リリース|有料機能の実装と公開|初回リリース後3ヶ月以内|

## リスク管理

|リスク|影響度|発生確率|対策|
|---|---|---|---|
|Supabase無料枠の制限|高|中|早期段階でのキャッシュ戦略最適化、有料プランへの移行計画|
|ストア審査の遅延/却下|高|中|ガイドラインの厳守、十分な準備時間の確保|
|オフライン同期の問題|中|高|タイムスタンプベースの競合解決、徹底したテスト|
|パフォーマンスの問題|中|中|早期からのパフォーマンス計測、段階的最適化|
|セキュリティリスク|高|低|RLSの厳格な実装、データアクセス制御の徹底|

## チーム構成と役割

| 役割           | 担当  | 主な責任                   |
| ------------ | --- | ---------------------- |
| プロジェクトマネージャー |     | 全体進行管理、リスク管理           |
| フロントエンドエンジニア |     | UI実装、状態管理、ユーザー体験       |
| バックエンドエンジニア  |     | Supabase設定、API実装、データ処理 |
| UI/UXデザイナー   |     | デザイン作成、ユーザビリティ向上       |
| QAエンジニア      |     | テスト計画、品質保証             |

## 会議スケジュール

- **デイリースタンドアップ**: 毎日朝10時（15分）
- **週次レビュー**: 毎週金曜日15時（1時間）
- **隔週計画会議**: 隔週月曜日14時（2時間）
- **月次進捗報告**: 毎月最終金曜日16時（1時間）

## ドキュメント管理

プロジェクト関連ドキュメントは以下のカテゴリで管理：

1. [[📄Rizz 要件定義書(v1.0.0)]]
2. [[📄Rizz 非機能要件定義書]]
3. [[📄Rizz ページ一覧]]
4. [[📄Rizz コードベース概要]]
5. [[📄Rizz コア機能処理フロー]]
6. [[📄Rizz ER図]]
7. [[📄Rizz API設計書]]
8. [[📄Rizz 技術スタック定義書]]
9. [[📄Rizz 調査結果報告書]]
10. 実装ガイドライン
11. テスト計画書
12. 議事録・進捗レポート
13. リリース計画書

各ドキュメントはバージョン管理を行い、更新履歴を記録する。

---

本ドキュメントは開発の進行に伴って適宜更新されます。
