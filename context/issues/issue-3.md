# イシュータイトル
RLSポリシー設定 - セキュリティルールの設定

## 概要
Rizzアプリケーションで使用するSupabaseのデータベースに対して、Row Level Security (RLS)ポリシーを設定し、適切なセキュリティルールを実装します。これにより、ユーザーが自分のデータのみにアクセスできるようにし、他のユーザーのデータへの不正アクセスを防止します。

## 実施内容
- [x] usersテーブルに対するRLSポリシーの設定
  - [x] ユーザー自身のデータのみ閲覧可能にするポリシー
  - [x] ユーザー自身のデータのみ更新可能にするポリシー
- [x] daily_recordsテーブルに対するRLSポリシーの設定
  - [x] ユーザー自身の記録のみ閲覧可能にするポリシー
  - [x] ユーザー自身の記録のみ作成可能にするポリシー
  - [x] ユーザー自身の記録のみ更新可能にするポリシー
  - [x] データ整合性ルールの実装（例：get_contact <= approached）
- [x] goalsテーブルに対するRLSポリシーの設定
  - [x] ユーザー自身の目標のみ閲覧可能にするポリシー
  - [x] ユーザー自身の目標のみ作成可能にするポリシー
  - [x] ユーザー自身の目標のみ更新可能にするポリシー
- [ ] RLSポリシーのテスト
  - [ ] 異なるユーザーアカウントでのアクセステスト
  - [ ] 不正アクセスの防止確認

## 参照資料
- @001_techstack.md
- @003_api.md

## 完了条件
- 各テーブルに適切なRLSポリシーが設定されていること
- ユーザーが自分のデータのみにアクセスできることが確認されていること
- 異なるユーザーのデータへのアクセスが適切に制限されていること
- データ整合性が保たれるようなセキュリティルールが実装されていること
- 次のタスク（認証画面UI実装）に進める準備が整っていること
