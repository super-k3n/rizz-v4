# イシュータイトル
ホーム画面レイアウト - ホーム画面の基本レイアウト構築

## 概要
Rizzアプリケーションのホーム画面の基本レイアウトを実装します。ユーザーが毎日のアクティビティを記録できるカウンターボタン、現在の進捗状況を示すプログレスバー、および必要な情報表示領域を含むUIを構築します。これによりユーザーは直感的に日々の活動を記録し、目標達成度を視覚的に確認できるようになります。

## 実施内容

### パート1: ホーム画面の基本構造実装
- [x] ホーム画面のレイアウト設計
  - [x] デザインガイドラインに基づいたUIレイアウトの作成
  - [x] レスポンシブ対応の確認（各種デバイスサイズ対応）
  - [x] ダークモード対応の確認と調整
- [x] ヘッダー部分の実装
  - [x] ユーザー名表示
  - [x] 日付表示
  - [x] ヘッダー背景デザインの実装
- [x] コンテンツ部分のスクロール対応
  - [x] ParallaxScrollViewの適切な実装

### パート2: カウンターセクションの実装
- [x] カウンターUI実装
  - [x] 「声かけ数」カウンターボタンの実装
  - [x] 「連絡先ゲット数」カウンターボタンの実装
  - [x] 「即日デート数」カウンターボタンの実装
  - [x] 「即(sex)数」カウンターボタンの実装
- [x] カウンター表示デザイン
  - [x] 現在値の視覚的表示
  - [x] ボタン配置の最適化

### パート3: プログレスバーセクションの実装
- [x] 日次目標プログレスバーの実装
  - [x] 各カウンター種類に対応するプログレスバーの実装
  - [x] 現在値と目標値の表示
  - [x] 達成度表示

### パート4: 目標設定画面UIの実装
- [x] 目標設定フォームの実装
  - [x] 期間選択コンポーネント（日次/週次/月次/年次）の作成
  - [x] 各カウンタータイプの目標値入力フォームの実装
  - [x] バリデーション機能の実装
- [x] 目標保存機能の実装
  - [x] ローカルでの目標値保存機能
  - [x] 保存ボタンとキャンセルボタンの実装
- [x] ホーム画面との連携
  - [x] ホーム画面からの目標設定画面への遷移ボタン
  - [x] 目標設定後のホーム画面更新機能

## 参照資料
- [@000_overview.md](プロジェクト概要・ブランディングカラー定義)
- [@001_techstack.md](技術スタック定義書)
- [@004_pages.md](ページ構成定義書)
- [@005_core.md](コア機能処理フロー)
- [@006_structure.md](アプリケーション構造定義書)

## 完了条件
- [x] ホーム画面の基本レイアウトが実装されていること
- [x] 4種類のカウンターボタンが実装され、タップ時に適切に動作すること
- [x] プログレスバーが実装され、カウンター値と目標値に基づいて正しく表示されること
- [x] 各UIコンポーネントがThemedコンポーネントを使用してダークモードに対応していること
- [x] 目標設定画面が実装され、目標値の設定が可能なこと
- [x] 設定した目標値がホーム画面のプログレスバーに反映されること（実績値(カウンターで記録した数値) / 目標値として表示）

## 実装方針

### カウンターコンポーネントの設計
CounterButtonコンポーネントは以下の特徴を持つように設計しました：
```typescript
// カウンターボタンの型定義
interface CounterButtonProps {
  type: 'approached' | 'getContact' | 'instantDate' | 'instantCv';
  count: number;
  onIncrement: () => void;
  loading?: boolean;
  icon?: string;
  color?: string;
  compact?: boolean;
}
```

各カウンタータイプの表示名とアイコンを定義しました：
- 声かけ数: マイク/会話アイコン (`microphone`)
- 連絡先ゲット数: アドレス帳/連絡先アイコン (`contacts`)
- 即日デート数: カレンダー/時計アイコン (`calendar-clock`)
- 即(sex)数: ハートアイコン (`heart`)

### プログレスバーコンポーネントの設計
```typescript
// プログレスバーの型定義
interface ProgressDisplayProps {
  type: 'approached' | 'getContact' | 'instantDate' | 'instantCv';
  current: number;
  target: number;
  color?: string;
  showLabel?: boolean;
}
```

### 目標設定画面の設計
目標設定画面は以下の特徴を持つように設計しました：
```typescript
// 目標設定フォームの型定義
interface GoalFormProps {
  initialValues?: GoalValues;
  onSubmit: (values: GoalValues) => void;
  onCancel: () => void;
  onPeriodChange?: (period: PeriodType) => void;
  loading?: boolean;
}

// 目標値の型定義
export type GoalValues = {
  period: PeriodType;
  approached: number;
  getContact: number;
  instantDate: number;
  instantCv: number;
};
```

目標設定画面のコンポーネント構成：
- `GoalForm`: 目標設定のメインフォームコンポーネント
- `PeriodSelector`: 期間選択のためのセグメントコントロール（日/週/月/年）
- `NumericInput`: 数値入力フィールド（バリデーション機能付き）
- `ActionButtons`: 保存/キャンセルボタン

### レイアウト変更
当初のグリッド状のカウンターレイアウトから、以下のような縦型レイアウトに変更しました：
- 各カウンター項目を縦に配置
- 各項目は「カウンター名/目標数」の表示、プログレスバー、カウンターボタンで構成
- カウンターボタンはコンパクトモードで右側に配置
- プログレスバーはカウンター下部に配置

### カラー設定
ブランディングカラーを使用したスタイリング：
- 背景色: リッチブラック (`#0A0F23`)
- カウンターボタン: バーガンディレッド (`#800020`)
- プログレスバー: グラデーション (リッチブラック `#0A0F23` → ダークネイビー `#1A2342` → メタリックゴールド `#D4AF37`)
- 見出し/強調テキスト: アンティークゴールド (`#C09E5C`)
- 基本テキスト: 白 (`#FFFFFF`)
- セクション背景: チャコールグレー (`rgba(54, 69, 79, 0.2)`)

### 状態管理の方針
- useCounterカスタムフックを作成して、カウンター操作のロジックをカプセル化しました
  - AsyncStorageを使用して永続的なデータ管理を実装
  - 期間（日次/週次/月次/年次）ごとの目標値を管理
  - 将来的にSupabaseとの連携も想定
- 今後、RecordContextとGoalContextを使用してアプリ全体でのデータ共有を実装予定

### 画面遷移フロー
1. ホーム画面に目標設定ボタンを追加
2. タップで目標設定画面に遷移
3. 目標値を設定し保存
4. ホーム画面に戻り、設定した目標値をプログレスバーに反映

### 次のイシューへの接続
目標設定画面UIの実装を含めたこのイシューの完了後、#8のRecordContextの実装、#9のSupabase連携（記録）に進みます。
#7のカウンターボタンUIの実装は本イシューで完了しました。
